<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Donate</title>


  <style>
    * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Segoe UI", sans-serif;
}

body {
  background: #fafafa;
}

.donate-section {
  padding: 80px 20px;
}

.container {
  max-width: 1200px;
  margin: auto;
}

.header {
  text-align: center;
  margin-bottom: 80px;
}

.header h1 {
  font-size: clamp(2.5rem, 5vw, 4.5rem);
  margin-bottom: 20px;
}

.header p {
  max-width: 750px;
  margin: auto;
  color: #666;
  font-size: 18px;
}

.donate-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 60px;
}

/* IMAGE */
.image-box {
  position: relative;
}

.image-box img {
  width: 100%;
  height: 600px;
  object-fit: cover;
  border-radius: 30px;
  box-shadow: 0 20px 40px rgba(0,0,0,.15);
}

.impact-card {
  position: absolute;
  bottom: 30px;
  left: 30px;
  right: 30px;
  background: rgba(255,255,255,0.8);
  backdrop-filter: blur(12px);
  padding: 25px;
  border-radius: 20px;
}

/* FORM */
.form-box {
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(10px);
  padding: 40px;
  border-radius: 25px;
}

/* Toggle */
.toggle {
  display: grid;
  grid-template-columns: 1fr 1fr;
  background: #eee;
  padding: 6px;
  border-radius: 12px;
  margin-bottom: 30px;
}

.toggle button {
  border: none;
  background: transparent;
  padding: 10px;
  cursor: pointer;
  font-weight: 600;
}

.toggle .active {
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 3px 10px rgba(0,0,0,.15);
}

/* Amount */
.amounts {
  display: grid;
  grid-template-columns: repeat(2,1fr);
  gap: 15px;
  margin-bottom: 15px;
}

.amount {
  height: 60px;
  border-radius: 16px;
  border: 1px solid #ddd;
  background: rgba(255,255,255,.6);
  font-size: 16px;
  cursor: pointer;
  transition: .3s;
}

.amount:hover {
  border-color: #2f855a;
}

.amount.active {
  background: #2f855a;
  color: white;
  box-shadow: 0 10px 20px rgba(47,133,90,.3);
}

/* Inputs */
label {
  display: block;
  margin: 18px 0 6px;
  font-weight: 500;
}

input {
  width: 100%;
  height: 48px;
  border-radius: 14px;
  border: 1px solid #ddd;
  padding: 0 14px;
  font-size: 15px;
}

/* Impact */
.impact-msg {
  background: #fff1ec;
  padding: 14px;
  border-radius: 14px;
  margin: 20px 0;
}

/* Button */
.donate-btn {
  margin-top: 20px;
  width: 100%;
  height: 56px;
  border-radius: 50px;
  border: none;
  background: #e68362;
  color: white;
  font-size: 18px;
  cursor: pointer;
  transition: .3s;
}

.donate-btn:hover {
  transform: scale(1.05);
  background: #d96f4f;
}

.secure {
  font-size: 12px;
  color: #777;
  margin-top: 14px;
  text-align: center;
}

/* Responsive */
@media(max-width: 900px) {
  .donate-grid {
    grid-template-columns: 1fr;
  }

  .image-box img {
    height: 350px;
  }
}

.navbar {
  position: sticky;
  top: 0;
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(10px);
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  z-index: 100;
}

.nav-container {
  max-width: 1200px;
  margin: auto;
  padding: 15px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}

.logo {
  font-size: 22px;
  font-weight: bold;
}

nav a {
  margin: 0 12px;
  text-decoration: none;
  color: #555;
}

nav a:hover {
  color: #000;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: "Georgia", serif;
  /* background-color: #f7f6f2; */
  color: #222;
}

.donation-section {
  padding: 100px 20px;
  background-color: #f7f6f2;
}

.container {
  max-width: 1200px;
  margin: auto;
  text-align: center;
}

.section-title {
  font-size: 48px;
  font-weight: 600;
  margin-bottom: 80px;
}

.donation-cards {
  display: flex;
  justify-content: space-between;
  gap: 40px;
  flex-wrap: wrap;
}

.donation-card {
  flex: 1;
  min-width: 260px;
  max-width: 360px;
  margin: auto;
}

.icon {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  margin: 0 auto 30px;
  font-weight: bold;
}

.icon.green {
  background-color: #e2ebe2;
  color: #1b4d2b;
}

.icon.orange {
  background-color: #f6e8df;
  color: #d46a42;
}

.donation-card h3 {
  font-size: 22px;
  margin-bottom: 16px;
}

.donation-card p {
  font-size: 17px;
  line-height: 1.6;
  color: #555;
}

/* Responsive */
@media (max-width: 768px) {
  .section-title {
    font-size: 36px;
  }

  .donation-cards {
    flex-direction: column;
    gap: 60px;
  }
}

footer {
  background: #14532d;
  color: white;
  text-align: center;
  padding: 20px;
}

.navbar {
  position: sticky;
  top: 0;
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(10px);
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  z-index: 100;
}

.nav-container {
  max-width: 1200px;
  margin: auto;
  padding: 15px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}

.logo {
  font-size: 22px;
  font-weight: bold;
}

nav a {
  margin: 0 12px;
  text-decoration: none;
  color: #555;
}

nav a:hover {
  color: #000;
}

.btn {
  background: #22c55e;
  color: white;
  padding: 10px 22px;
  border-radius: 30px;
  text-decoration: none;
  font-weight: 600;
  transition: 0.3s;
}

.nav-toggle {
  display: none;
  border: 0;
  background: transparent;
  font-size: 26px;
  line-height: 1;
  cursor: pointer;
  color: #174c2c;
  padding: 6px 10px;
  border-radius: 10px;
  order: -1;
}

.nav-toggle:focus-visible {
  outline: 2px solid #22c55e;
  outline-offset: 3px;
}

/* NAV LINK ANIMATION */
nav a{
  position: relative;
  margin: 0 14px;
  text-decoration: none;
  color: #555;
  font-weight: 500;
  transition: color 0.3s ease;
}

/* UNDERLINE EFFECT */
nav a::after{
  content: "";
  position: absolute;
  left: 0;
  bottom: -6px;
  width: 0%;
  height: 2px;
  background: #174c2c;
  transition: width 0.35s ease;
}

/* HOVER */
nav a:hover{
  color: #174c2c;
}
nav a:hover::after{
  width: 100%;
}

/* ACTIVE PAGE */
nav a.active{
  color: #174c2c;
}
nav a.active::after{
  width: 100%;
}

/* DONATE BUTTON HOVER */
.nav-container .btn{
  background:#174c2c;
  color:#fff;
  padding:12px 24px;
  border-radius:30px;
  text-decoration:none;
  font-weight:600;
  transition:0.4s ease;
}
.nav-container .btn:hover{
  transform:translateY(-3px);
  box-shadow:0 10px 25px rgba(0,0,0,.15);
}

/* NAVBAR SMOOTH APPEAR */
.navbar{
  animation: navFade 0.8s ease;
}
@keyframes navFade{
  from{
    opacity:0;
    transform:translateY(-20px);
  }
  to{
    opacity:1;
    transform:translateY(0);
  }
}

@media (max-width: 1024px) {
  .header {
    margin-bottom: 50px;
  }
  .image-box img {
    height: 480px;
  }
}

@media (max-width: 900px) {
  nav {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    row-gap: 8px;
  }
  .nav-container {
    justify-content: center;
  }
}

@media (max-width: 768px) {
  .donate-section {
    padding: 60px 16px;
  }
  .header h1 {
    font-size: 2.2rem;
  }
  .form-box {
    padding: 26px;
  }
  .image-box img {
    height: 320px;
  }
  .impact-card {
    position: static;
    margin-top: 14px;
  }
  .amounts {
    grid-template-columns: 1fr;
  }
  .donate-grid {
    display: flex;
    flex-direction: column;
  }
  .form-box {
    order: -1;
  }
  .nav-toggle {
    display: inline-flex;
  }
  nav {
    display: none;
    flex-direction: column;
    align-items: center;
    order: 4;
    width: 100%;
    padding-top: 10px;
  }
  .nav-container.nav-open nav {
    display: flex;
  }
  .nav-container .btn {
    order: 3;
  }
  .nav-container {
    flex-wrap: nowrap;
  }
  .logo {
    order: 2;
    margin: 0 auto;
  }
  .donation-section {
    padding: 70px 16px;
  }
  .section-title {
    font-size: 32px;
    margin-bottom: 50px;
  }
}

@media (max-width: 480px) {
  .logo {
    font-size: 20px;
  }
  nav a {
    margin: 0 6px;
    font-size: 14px;
  }
  .donate-btn {
    height: 50px;
    font-size: 16px;
  }
  .donation-card {
    min-width: 100%;
  }
  footer {
    padding: 16px;
    font-size: 14px;
  }
}

  </style>
</head>
<body>

    <header class="navbar">
    <div class="nav-container">
    <button class="nav-toggle" type="button" aria-label="Toggle navigation" aria-expanded="false">&#9776;</button>
    <div class="logo">
      🌿 <span>Envirosafe</span>
    </div>
    <nav>
      <a href="index.html" >Home</a>
      <a href="about.html">About</a>
      <a href="our-work.html">Our Work</a>
      <a href="donate.html">Donate</a>
      <a href="contact.html">Contact</a>
      <a href="donator.html">Donator's</a>
    </nav>
    <a href="donate.html" class="btn">Donate Now</a>
  </div>
</header>


<section class="donate-section">
  <div class="container">

    <div class="header">
      <h1>Make a Difference Today</h1>
      <p>
        Your generous contribution helps us protect the environment and build
        sustainable communities. Every donation creates lasting impact.
      </p>
    </div>

    <div class="donate-grid">

      <!-- IMAGE -->
      <div class="image-box">
        <img src="https://images.unsplash.com/photo-1758599669406-d5179ccefcb9" alt="Impact">
        <div class="impact-card">
          <h3>Your Impact</h3>
          <p>
            100% of your donation goes directly to environmental projects.
            Complete transparency guaranteed.
          </p>
        </div>
      </div>

      <!-- FORM -->
      <div class="form-box">

        <!-- Amount -->
        <label>Select Amount (₹)</label>
        <div class="amounts">
          <button class="amount">500</button>
          <button class="amount active">1000</button>
          <button class="amount">2500</button>
          <button class="amount">5000</button>
        </div>

        <input id="customInput" type="number" placeholder="Enter custom amount">

        <!-- Impact Message -->
        <div class="impact-msg">
          ❤️ Plants 20 trees & supports 1 family
        </div>

        <!-- Inputs -->
        <label>Full Name *</label>
        <input id="donorName"  type="text" placeholder="Enter your full name">

        <label>Email Address *</label>
        <input id="donorEmail" type="email" placeholder="your.email@example.com">

        <label>Upi Id</label>
        <input id="donorUpiId" type="text" placeholder="example@okaxis etc.">
        
        <label>Phone Number (Optional)</label>
        <input id="donorPhone" type="tel" placeholder="+91 9876543210">

        <button class="donate-btn" id="donateBtn">Donate ₹1000</button>

        <p class="secure">
          Your donation is secure and processed via Razorpay.
          Receipt will be sent by email.
        </p>

      </div>

    </div>
  </div>
</section>

<section class="donation-section">
  <div class="container">

    <h2 class="section-title">Why Your Donation Matters</h2>

    <div class="donation-cards">

      <div class="donation-card">
        <div class="icon green">
          ✓
        </div>
        <h3>100% Transparent</h3>
        <p>
          Every rupee is accounted for. View our annual reports and see exactly
          how funds are utilized.
        </p>
      </div>

      <div class="donation-card">
        <div class="icon orange">
          ✓
        </div>
        <h3>Direct Impact</h3>
        <p>
          Your donation directly funds environmental projects with measurable,
          lasting impact.
        </p>
      </div>

      <div class="donation-card">
        <div class="icon green">
          ✓
        </div>
        <h3>Tax Benefits</h3>
        <p>
          Donations are eligible for tax deductions under Section 80G.
          Receipt provided immediately.
        </p>
      </div>

    </div>

  </div>
</section>

<footer>
  <p>© 2025 Envirosafe NGO. All rights reserved.</p>
</footer>

<script>
let selectedAmount = 1000;

const amountBtns = document.querySelectorAll(".amount");
const customInput = document.getElementById("customInput");
const donateBtn = document.getElementById("donateBtn");
const impactMsg = document.querySelector(".impact-msg");
const toggleBtns = document.querySelectorAll(".toggle button");

/* ---------- AMOUNT BUTTON CLICK ---------- */
amountBtns.forEach(btn => {
  btn.addEventListener("click", () => {
    amountBtns.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");

    selectedAmount = parseInt(btn.innerText.replace("₹",""));
    customInput.value = "";

    updateUI();
  });
});

/* ---------- CUSTOM AMOUNT ---------- */
customInput.addEventListener("input", () => {
  amountBtns.forEach(b => b.classList.remove("active"));
  selectedAmount = parseInt(customInput.value || 0);
  updateUI();
});

/* ---------- TOGGLE ONE-TIME / MONTHLY ---------- */
toggleBtns.forEach(btn => {
  btn.addEventListener("click", () => {
    toggleBtns.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
  });
});

/* ---------- UI UPDATE ---------- */
function updateUI() {
  if (!selectedAmount || selectedAmount < 1) {
    donateBtn.innerText = "Donate";
    impactMsg.innerHTML = "❤️ Every contribution matters";
    return;
  }

  donateBtn.innerText = `Donate ₹${selectedAmount}`;

  // Impact logic (screen recording style)
  if (selectedAmount >= 5000) {
    impactMsg.innerHTML = "Plants 100 trees & supports 5 families";
  } else if (selectedAmount >= 2500) {
    impactMsg.innerHTML = "Plants 50 trees & supports 2 families";
  } else if (selectedAmount >= 1000) {
    impactMsg.innerHTML = "❤️ Plants 20 trees & supports 1 family";
  } else {
    impactMsg.innerHTML = "❤️ Helps plant trees";
  }
}
</script>


<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<script>
const navContainer = document.querySelector(".nav-container");
const navToggle = document.querySelector(".nav-toggle");
const navLinks = document.querySelectorAll("nav a");

if (navToggle && navContainer) {
  navToggle.addEventListener("click", () => {
    const isOpen = navContainer.classList.toggle("nav-open");
    navToggle.setAttribute("aria-expanded", String(isOpen));
  });
}

navLinks.forEach((link) => {
  link.addEventListener("click", () => {
    navContainer.classList.remove("nav-open");
    navToggle.setAttribute("aria-expanded", "false");
  });
});

const isLocalHost =
  location.hostname === "localhost" ||
  location.hostname === "127.0.0.1" ||
  location.hostname === "";

const API_BASE = isLocalHost ? "http://localhost:5000" : "/api";

document.getElementById("donateBtn").addEventListener("click", async () => {

  const amount = selectedAmount; // ya dynamic amount
  const name = document.getElementById("donorName").value;
  const email = document.getElementById("donorEmail").value;
  const phone = document.getElementById("donorPhone").value;

  console.log(amount, phone, name, email)

  const res = await fetch(`${API_BASE}/create-order`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ amount, name, email, phone })
  });

  const raw = await res.text();
  let data = {};
  try {
    data = raw ? JSON.parse(raw) : {};
  } catch (e) {
    data = {};
  }

  if (!res.ok) {
    alert(data.message || "Order request failed");
    return;
  }

  if (!data.success) {
    alert("Order creation failed");
    return;
  }

  console.log(data.order);

  const options = {
    key: data.key, // only key_id (NOT secret)
    amount: data.order.amount,
    currency: "INR",
    name: "Your NGO Name",
    description: "Donation",
    order_id: data.order.id,

    // 🔥 THIS IS WHAT ENABLES UPI
    method: {
      upi: true,
      card: true,
      netbanking: true,
      wallet: true
    },

    // Optional but recommended
    prefill: {
      name: name || "Donor",
      email: email || "donor@example.com",
      contact: phone || ""
    },

    theme: {
      color: "#2ecc71"
    },    
    
    handler: async function (response) {
      const verifyRes = await fetch(`${API_BASE}/verify-payment`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(response)
      });

      const verifyRaw = await verifyRes.text();
      let verifyData = {};
      try {
        verifyData = verifyRaw ? JSON.parse(verifyRaw) : {};
      } catch (e) {
        verifyData = {};
      }

      if (!verifyRes.ok) {
        alert(verifyData.message || "Payment verification request failed");
        return;
      }

      if (!verifyData.success) {
        alert("Payment verification failed");
        return;
      }

      alert("Payment Successful 🎉");
      console.log(response);
    }

  }
  const rzp = new Razorpay(options);
  rzp.open();
});
</script>


</body>
</html>

</body>
</html>

